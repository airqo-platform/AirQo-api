/*! For license information please see 40.9ed83ae7.chunk.js.LICENSE.txt */
(this["webpackJsonpstreamlit-browser"]=this["webpackJsonpstreamlit-browser"]||[]).push([[40],{1810:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return B}));var o,r=n(17),i=n(5),a=n(0),l=n.n(a),c=n(1226),d=n(1791),s=n(1767),u=n(211),m=n(24),b=n(129),h=n(49);function f(e){var t=e&&b.b.getTypeName(e),n=o.Text;return t?"bool"===t?n=o.Boolean:["int64","float64","range"].includes(t)?n=o.Number:t.startsWith("list")&&(n=o.List):n=o.Text,n}function g(e){return(e.displayContent||b.b.format(e.content,e.contentType)).replace(/(\r\n|\n|\r)/gm," ")}function p(e,t,n){var o=new RegExp("".concat(e,"[^{]*{(?:[^}]*[\\s;]{1})?").concat(t,":\\s*([^;\\s]+)[;]?.*}"),"gm").exec(n);if(o)return o[1]}function v(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"normal";if(e===o.Text)return{kind:c.d.Text,data:"",displayData:"",allowOverlay:!0,readonly:t,style:n};if(e===o.Boolean)return{kind:c.d.Boolean,data:!1,readonly:t,allowOverlay:!1,style:n};if(e===o.Number)return{kind:c.d.Number,data:void 0,displayData:"",readonly:t,allowOverlay:!0,contentAlign:"right",style:n};if(e===o.List)return{kind:c.d.Bubble,data:[],allowOverlay:!0,style:n};throw new Error("Unsupported cell type: ".concat(e))}!function(e){e.Text="text",e.Number="number",e.Boolean="boolean",e.List="list"}(o||(o={}));var x,y=n(154),O=n(1238),w=n(73),j=n(35),C=n(1);function T(e){return{accentColor:e.colors.primary,accentFg:e.colors.white,accentLight:Object(j.g)(e.colors.primary,.9),borderColor:e.colors.fadedText05,fontFamily:e.genericFonts.bodyFont,bgSearchResult:Object(j.g)(e.colors.primary,.9),bgIconHeader:e.colors.fadedText60,fgIconHeader:e.colors.white,bgHeader:e.colors.bgMix,bgHeaderHasFocus:e.colors.secondaryBg,bgHeaderHovered:e.colors.bgMix,textHeader:e.colors.fadedText60,textHeaderSelected:e.colors.white,headerFontStyle:"".concat(e.fontSizes.sm),baseFontStyle:e.fontSizes.sm,editorFontSize:e.fontSizes.sm,textDark:e.colors.bodyText,textMedium:Object(j.g)(e.colors.bodyText,.2),textLight:e.colors.fadedText60,textBubble:e.colors.fadedText60,bgCell:e.colors.bgColor,bgCellMedium:e.colors.bgColor,cellHorizontalPadding:8,cellVerticalPadding:3,bgBubble:e.colors.secondaryBg,bgBubbleSelected:e.colors.secondaryBg,linkColor:e.colors.linkText,drilldownBorder:e.colors.darkenedBgMix25}}var k=O.c.div(x||(x=Object(y.a)(["\n  overflow: auto;\n  position: relative;\n  resize: both;\n  display: inline-block;\n  min-height: ","px;\n  max-height: ","px;\n  min-width: ","px;\n  max-width: ","px;\n  height: ","px;\n  border: 1px solid ",";\n\n  > :first-child {\n    height: 100%;\n    min-width: 100%;\n  }\n\n  & .dvn-scroller {\n    scrollbar-width: thin;\n    overflow-x: overlay;\n    overflow-y: overlay;\n  }\n\n  // Hide the resize handle in the right corner. Resizing is still be possible.\n  &::-webkit-resizer {\n    display: none;\n  }\n"])),(function(e){return e.minHeight}),(function(e){return e.maxHeight}),(function(e){return e.minWidth}),(function(e){return e.maxWidth}),(function(e){return e.height}),(function(e){return e.theme.colors.fadedText05}));var S=function(e){var t=e.width,n=e.maxWidth,o=e.minWidth,r=e.height,i=e.minHeight,a=e.maxHeight,l=e.children,c=e.onBlur,d=Object(w.c)();return Object(C.jsx)(O.a,{theme:T(d),children:Object(C.jsx)(k,{className:"stDataFrame",width:t,maxWidth:n,minWidth:o,height:r,minHeight:i,maxHeight:a,theme:d,onBlur:c,children:l})})};function H(e,t){var n,d,u,b=Object(a.useState)((function(){return new Map})),x=Object(r.a)(b,2),y=x[0],O=x[1],w=function(e){var t,n,r,i,a,l,c=[];if(e.isEmpty())return c.push({id:"empty-index",title:"",hasMenu:!1,getTemplate:function(){return v(o.Text,!0,"faded")},columnType:o.Text}),c;for(var d=null!==(t=null===(n=e.types)||void 0===n||null===(r=n.index)||void 0===r?void 0:r.length)&&void 0!==t?t:0,s=null!==(i=null===(a=e.columns)||void 0===a||null===(l=a[0])||void 0===l?void 0:l.length)&&void 0!==i?i:0,u=function(t){var n=f(e.types.index[t]);c.push({id:"index-".concat(t),title:"",hasMenu:!1,getTemplate:function(){return v(n,!0,"faded")},columnType:n})},m=0;m<d;m++)u(m);for(var b=function(t){var n=e.columns[0][t],o=f(e.types.data[t]);c.push({id:"column-".concat(n,"-").concat(t),title:n,hasMenu:!1,getTemplate:function(){return v(o,!0)},columnType:o})},h=0;h<s;h++)b(h);return c}(e).map((function(e){return e.id&&y.has(e.id)?Object(i.a)(Object(i.a)({},e),{},{width:y.get(e.id)}):e})),j=e.isEmpty()?1:e.dimensions.rows-1,C=null!==(n=null===(d=e.types)||void 0===d||null===(u=d.index)||void 0===u?void 0:u.length)&&void 0!==n?n:0,T=l.a.useCallback((function(e,t){e.id&&O(new Map(y).set(e.id,t))}),[w]),k=l.a.useCallback((function(t){var n=Object(r.a)(t,2),a=n[0],l=n[1];if(e.isEmpty())return Object(i.a)(Object(i.a)({},v(o.Text,!0,"faded")),{},{displayData:"empty"});if(a>w.length-1)return v(o.Text,!0);var d=w[a].getTemplate();if(l>j-1)return d;try{return function(e,t){var n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=e.kind;if(e.kind===c.d.Custom&&!(r=null===(n=e.data)||void 0===n?void 0:n.kind))throw new Error("Unable to determine cell type for custom cell.");if(o&&t.cssId){var a={},l=p(t.cssId,"color",o);l&&(a.textDark=l);var d=p(t.cssId,"background-color",o);d&&(a.bgCell=d),a&&(e=Object(i.a)(Object(i.a)({},e),{},{themeOverride:a}))}if(r===c.d.Text){var s=g(t);return Object(i.a)(Object(i.a)({},e),{},{data:"string"!==typeof t.content&&Object(h.l)(t.content)?s:t.content,displayData:s})}if(r===c.d.Number){var u=g(t),m=t.content;return m instanceof Int32Array&&(m=m[0]),Object(i.a)(Object(i.a)({},e),{},{data:Object(h.l)(m)?Number(m):void 0,displayData:u})}if(r===c.d.Boolean)return Object(i.a)(Object(i.a)({},e),{},{data:t.content});if(r===c.d.Bubble)return Object(i.a)(Object(i.a)({},e),{},{data:Object(h.l)(t.content)?JSON.parse(JSON.stringify(t.content,(function(e,t){return"bigint"===typeof t?Number(t):t}))):[]});throw new Error("Unsupported cell kind: ".concat(r))}(d,e.getCell(l+1,a),e.cssStyles)}catch(s){return Object(m.b)(s),d}}),[w,j,e]),S=Object(s.a)({columns:w,getCellContent:k,rows:j,sort:t}).getCellContent,H=function(e,t){return void 0===t?e:e.map((function(e){return e.id===t.column.id?Object(i.a)(Object(i.a)({},e),{},{title:"asc"===t.direction?"\u2191 ".concat(e.title):"\u2193 ".concat(e.title)}):e}))}(w,t);return{numRows:j,numIndices:C,columns:H,getCellContent:S,onColumnResize:T}}var B=Object(u.a)((function(e){var t=e.element,n=e.height,i=e.width,a=l.a.useState(),s=Object(r.a)(a,2),u=s[0],m=s[1],b=H(t,u),h=b.numRows,f=b.numIndices,g=b.columns,p=b.getCellContent,v=b.onColumnResize,x=l.a.useState(!0),y=Object(r.a)(x,2),O=y[0],w=y[1],j=l.a.useState({columns:c.c.empty(),rows:c.c.empty()}),T=Object(r.a)(j,2),k=T[0],B=T[1],M=l.a.useRef(null),z=l.a.useCallback((function(e){var t,n="asc",r=g[e];if(u&&u.column.id===r.id){if("asc"!==u.direction)return void m(void 0);n="desc"}m({column:r,direction:n,mode:(t=r.columnType,t===o.Number?"smart":"default")})}),[u,g]),N=Math.max(35*(h+1)+3,73),W=Math.min(N,400);return n&&(W=Math.max(n,73),N=Math.max(n,N)),Object(C.jsx)(S,{width:i,height:W,minHeight:73,maxHeight:N,minWidth:38,maxWidth:i,onBlur:function(){O||B({columns:c.c.empty(),rows:c.c.empty(),current:void 0})},children:Object(C.jsx)(d.a,{ref:M,columns:g,rows:h,minColumnWidth:35,maxColumnWidth:600,rowHeight:35,headerHeight:35,getCellContent:p,onColumnResized:v,freezeColumns:f,smoothScrollX:!0,smoothScrollY:h<1e5,verticalBorder:!0,getCellsForSelection:!0,rowMarkers:"none",rangeSelect:"rect",columnSelect:"none",rowSelect:"none",keybindings:{search:!0},onHeaderClicked:z,gridSelection:k,onGridSelectionChange:function(e){B(e)},onMouseMove:function(e){"out-of-bounds"===e.kind&&O?w(!1):"out-of-bounds"===e.kind||O||w(!0)},experimental:{scrollbarWidthOverride:1}})})}))}}]);